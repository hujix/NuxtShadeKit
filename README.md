# NuxtShadeKit

åŸºäº **Nuxt 4** + **Tailwind CSS v4** + **shadcn-vue** çš„ç°ä»£å…¨æ ˆæ¨¡æ¿é¡¹ç›®ï¼Œé›†æˆ **OAuth è®¤è¯**ã€**æ¥å£å®‰å…¨é˜²æŠ¤**ã€ç»Ÿä¸€ UI ä½“ç³»ã€å®Œå–„çš„å·¥ç¨‹åŒ–é…ç½®ï¼Œå¯ä½œä¸ºä¼ä¸šçº§é¡¹ç›®çš„èµ·ç‚¹æˆ–ä¸ªäººå¿«é€Ÿå¼€å‘çš„è„šæ‰‹æ¶ã€‚

âš¡ï¸ æœ¬ä»“åº“å·²è®¾ç½®ä¸º GitHub Templateï¼Œå¯ä¸€é”®å¤åˆ¶å¼€å§‹ä½ çš„é¡¹ç›®ã€‚

![NuxtShadeKit](./public/image/image.png)

## ğŸ“‹ åŠŸèƒ½è®¡åˆ’

- [x] **Nuxt 4 åŸºç¡€æ¶æ„** - å®Œæ•´çš„ SSR/SSG æ”¯æŒ
- [x] **Tailwind CSS v4 é›†æˆ** - åŸå­åŒ–æ ·å¼ç³»ç»Ÿ
- [x] **shadcn-vue ç»„ä»¶åº“** - 40+ é«˜è´¨é‡ UI ç»„ä»¶
- [x] **GitHub OAuth ç™»å½•** - åŸºäº nuxt-auth-utils
- [x] **å®‰å…¨é˜²æŠ¤ä½“ç³»** - CSRFã€CORSã€CSP å®Œæ•´é…ç½®
- [x] **ä»£ç è§„èŒƒ** - ESLint + Prettier + Husky
- [x] **TypeScript æ”¯æŒ** - å®Œæ•´ç±»å‹å®šä¹‰
- [x] **å¼€å‘å·¥å…·** - Nuxt DevTools é›†æˆ
- [x] **æš—è‰²æ¨¡å¼åˆ‡æ¢** - ä¸»é¢˜ç³»ç»Ÿå®Œå–„
- [ ] **å›½é™…åŒ–æ”¯æŒ** - i18n å¤šè¯­è¨€é…ç½®
- [ ] **æ•°æ®åº“é›†æˆ** - Prisma ORM + PostgreSQL
- [ ] **æ—¥å¿—ç³»ç»Ÿ** - ç»Ÿä¸€æ—¥å¿—æ”¶é›†å’Œåˆ†æ
- [ ] **Docker éƒ¨ç½²** - å®¹å™¨åŒ–éƒ¨ç½²æ–¹æ¡ˆ

## âœ¨ æ ¸å¿ƒç‰¹æ€§

### ğŸ¨ ç°ä»£åŒ–æŠ€æœ¯æ ˆ

- **Nuxt 4** â€” æœ€æ–°ç‰ˆæœ¬ï¼Œæé€Ÿå¼€å‘ä½“éªŒï¼Œå®Œæ•´çš„ SSR/SSG æ”¯æŒ
- **Tailwind CSS v4** â€” æ–°ç‰ˆåŸå­åŒ–æ ·å¼ç³»ç»Ÿï¼Œæ€§èƒ½æ›´ä¼˜
- **shadcn-vue** â€” åŸºäº Radix UI çš„é«˜è´¨é‡ Vue ç»„ä»¶åº“
- **TypeScript** â€” å®Œæ•´ç±»å‹æ”¯æŒï¼Œæå‡å¼€å‘æ•ˆç‡

### ğŸ” èº«ä»½è®¤è¯ (nuxt-auth-utils)

- **å¤šç§ OAuth ç™»å½•** â€” GitHubã€Googleã€Microsoftã€Discord ç­‰
- **ä¼šè¯ç®¡ç†** â€” å®‰å…¨çš„æœåŠ¡ç«¯ä¼šè¯å­˜å‚¨
- **è·¯ç”±ä¿æŠ¤** â€” ä¸­é—´ä»¶è‡ªåŠ¨ä¿æŠ¤éœ€è¦è®¤è¯çš„é¡µé¢
- **ç±»å‹å®‰å…¨** â€” å®Œæ•´çš„ TypeScript ç±»å‹å®šä¹‰

### ğŸ›¡ï¸ å®‰å…¨é˜²æŠ¤ (nuxt-security)

- **CSRF é˜²æŠ¤** â€” è·¨ç«™è¯·æ±‚ä¼ªé€ æ”»å‡»é˜²æŠ¤
- **CORS é…ç½®** â€” çµæ´»çš„è·¨åŸŸèµ„æºå…±äº«æ§åˆ¶
- **å®‰å…¨å“åº”å¤´** â€” CSPã€HSTSã€X-Frame-Options ç­‰
- **é€Ÿç‡é™åˆ¶** â€” API æ¥å£é˜²åˆ·ä¿æŠ¤
- **XSS é˜²æŠ¤** â€” å†…å®¹å®‰å…¨ç­–ç•¥è‡ªåŠ¨é…ç½®

### ğŸ§± UI ç»„ä»¶ä½“ç³»

- **shadcn-vue ç»„ä»¶** â€” Buttonã€Cardã€Dialogã€Form ç­‰ 40+ ç»„ä»¶
- **æš—è‰²æ¨¡å¼** â€” å†…ç½®ä¸»é¢˜åˆ‡æ¢æ”¯æŒ
- **å“åº”å¼è®¾è®¡** â€” ç§»åŠ¨ç«¯ä¼˜å…ˆçš„è®¾è®¡ç†å¿µ
- **å¯å®šåˆ¶** â€” å®Œå…¨æ§åˆ¶ç»„ä»¶æ ·å¼å’Œè¡Œä¸º

### ğŸ› ï¸ å·¥ç¨‹åŒ–é…ç½®

- **ESLint + Prettier** â€” ç»Ÿä¸€çš„ä»£ç è§„èŒƒ
- **Husky + lint-staged** â€” Git æäº¤å‰è‡ªåŠ¨æ ¼å¼åŒ–
- **VSCode é…ç½®** â€” æ’ä»¶æ¨èå’Œå·¥ä½œåŒºæœ€ä½³å®è·µé…ç½®
- **Nuxt DevTools** â€” å¼ºå¤§çš„å¼€å‘è°ƒè¯•å·¥å…·
- **æ¨¡å—åŒ–ç»“æ„** â€” æ¸…æ™°çš„ç›®å½•ç»„ç»‡

## ğŸ“ é¡¹ç›®ç»“æ„

```
NuxtShadeKit
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ components/          # Vue ç»„ä»¶
â”‚   â”‚   â””â”€â”€ ui/             # shadcn-vue UI ç»„ä»¶
â”‚   â”œâ”€â”€ composables/        # ç»„åˆå¼å‡½æ•°
â”‚   â”œâ”€â”€ layouts/            # å¸ƒå±€ç»„ä»¶
â”‚   â”œâ”€â”€ middleware/         # è·¯ç”±ä¸­é—´ä»¶
â”‚   â”œâ”€â”€ pages/              # é¡µé¢è·¯ç”±
â”‚   â””â”€â”€ app.vue             # åº”ç”¨å…¥å£
â”œâ”€â”€ server/
â”‚   â”œâ”€â”€ api/                # API è·¯ç”±
â”‚   â””â”€â”€ routes/
â”‚       â””â”€â”€ auth/           # OAuth è®¤è¯è·¯ç”±
â”‚           â””â”€â”€ github.get.ts
â”œâ”€â”€ nuxt.config.ts          # Nuxt é…ç½®
â””â”€â”€ package.json
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. ä½¿ç”¨æ¨¡æ¿åˆ›å»ºé¡¹ç›®

ç‚¹å‡» GitHub é¡µé¢å³ä¸Šè§’ **Use this template** â†’ **Create a new repository**

æˆ–é€šè¿‡å‘½ä»¤ï¼š

```bash
npx degit yourname/NuxtShadeKit my-project
cd my-project
```

### 2. å®‰è£…ä¾èµ–

```bash
pnpm install
# æˆ– yarn install
# æˆ– npm install
```

### 3. é…ç½®ç¯å¢ƒå˜é‡

åˆ›å»º `.env` æ–‡ä»¶å¹¶é…ç½®ä»¥ä¸‹å˜é‡ï¼š

```env
# Session å¯†é’¥ï¼ˆå¿…é¡»ï¼‰
NUXT_SESSION_PASSWORD=your-secret-password-min-32-chars

# GitHub OAuthï¼ˆç”¨äº GitHub ç™»å½•ï¼‰
NUXT_OAUTH_GITHUB_CLIENT_ID=your-github-client-id
NUXT_OAUTH_GITHUB_CLIENT_SECRET=your-github-client-secret
```

### 4. å¯åŠ¨å¼€å‘ç¯å¢ƒ

```bash
pnpm dev
```

è®¿é—® `http://localhost:3000`

## ğŸ” è®¤è¯ç³»ç»Ÿ (nuxt-auth-utils)

### å¿«é€Ÿé…ç½® GitHub OAuth

1. **åˆ›å»º GitHub OAuth App**
   - è®¿é—® [GitHub Developer Settings](https://github.com/settings/developers)
   - **Callback URL**: `http://localhost:3000/auth/github`

2. **é…ç½®ç¯å¢ƒå˜é‡** (`.env`)

```env
NUXT_OAUTH_GITHUB_CLIENT_ID=your_client_id
NUXT_OAUTH_GITHUB_CLIENT_SECRET=your_client_secret
```

3. **æœåŠ¡ç«¯è·¯ç”±** (`server/routes/auth/github.get.ts`)

```typescript
export default defineOAuthGitHubEventHandler({
  async onSuccess(event, { user }) {
    await setUserSession(event, {
      user: { name: user.name, email: user.email, avatar: user.avatar_url },
    });
    return sendRedirect(event, "/");
  },
});
```

4. **å‰ç«¯è§¦å‘ç™»å½•**

```vue
<button @click="navigateTo('/auth/github', { external: true })">
  GitHub ç™»å½•
</button>
```

### è·¯ç”±ä¿æŠ¤

```typescript
// middleware/auth.ts
export default defineNuxtRouteMiddleware(async () => {
  const { data } = await useFetch("/api/_auth/session");
  if (!data.value?.user) return navigateTo("/login");
});
```

### æ”¯æŒçš„ OAuth æä¾›å•†

GitHubã€Googleã€Microsoftã€Discordã€Twitchã€LinkedInã€Facebook ç­‰ â€” [æŸ¥çœ‹å®Œæ•´åˆ—è¡¨](https://github.com/Atinux/nuxt-auth-utils#supported-oauth-providers)

## ğŸ›¡ï¸ å®‰å…¨é˜²æŠ¤ (nuxt-security)

### æ ¸å¿ƒé…ç½® (`nuxt.config.ts`)

```typescript
export default defineNuxtConfig({
  modules: ["nuxt-security"],

  security: {
    csrf: true, // CSRF é˜²æŠ¤
    headers: {
      contentSecurityPolicy: {
        "img-src": ["'self'", "data:", "https:"],
      },
    },
  },

  routeRules: {
    "/api/**": { csurf: { enabled: false } }, // API å¯æ ¹æ®éœ€è¦å¯ç”¨
  },
});
```

### ä¸»è¦åŠŸèƒ½

| åŠŸèƒ½           | è¯´æ˜                                             |
| -------------- | ------------------------------------------------ |
| **CSRF é˜²æŠ¤**  | è·¨ç«™è¯·æ±‚ä¼ªé€ æ”»å‡»é˜²æŠ¤ï¼Œè‡ªåŠ¨ç”Ÿæˆå’ŒéªŒè¯ Token       |
| **CORS é…ç½®**  | çµæ´»çš„è·¨åŸŸèµ„æºå…±äº«æ§åˆ¶                           |
| **å®‰å…¨å“åº”å¤´** | X-Frame-Optionsã€X-Content-Type-Optionsã€HSTS ç­‰ |
| **CSP ç­–ç•¥**   | å†…å®¹å®‰å…¨ç­–ç•¥ï¼Œé˜²æ­¢ XSS æ”»å‡»                      |
| **é€Ÿç‡é™åˆ¶**   | API æ¥å£é˜²åˆ·ä¿æŠ¤                                 |

### ç”Ÿäº§ç¯å¢ƒå»ºè®®

- âœ… å¯ç”¨ HTTPS
- âœ… å¯ç”¨ API è·¯ç”±çš„ CSRF ä¿æŠ¤
- âœ… é…ç½®ä¸¥æ ¼çš„ CSP ç­–ç•¥
- âœ… è®¾ç½®åˆç†çš„é€Ÿç‡é™åˆ¶
- âœ… é…ç½® HSTS å“åº”å¤´

## ğŸ¨ UI ç»„ä»¶

æ”¯æŒ 40+ é«˜è´¨é‡ç»„ä»¶ï¼šButtonã€Cardã€Dialogã€Formã€Tableã€Selectã€Popover ç­‰ â€” [å®Œæ•´åˆ—è¡¨](https://www.shadcn-vue.com/)

## ğŸ› ï¸ å¼€å‘å·¥å…·

### å¼€å‘å‘½ä»¤

```bash
pnpm dev       # å¯åŠ¨å¼€å‘æœåŠ¡å™¨
pnpm build     # æ„å»ºç”Ÿäº§ç‰ˆæœ¬
pnpm preview   # é¢„è§ˆç”Ÿäº§æ„å»º
pnpm lint      # ä»£ç æ ¼å¼åŒ–å’Œæ£€æŸ¥
```

### VSCode æ’ä»¶æ¨è

é¡¹ç›®å·²é…ç½® `.vscode/extensions.json`ï¼Œé¦–æ¬¡æ‰“å¼€é¡¹ç›®æ—¶ VSCode ä¼šè‡ªåŠ¨æç¤ºå®‰è£…æ¨èæ’ä»¶ï¼š

**å¿…å¤‡æ’ä»¶**ï¼š

- Vue - Official (Volar)
- Nuxtr
- Tailwind CSS IntelliSense
- ESLint
- Prettier

**æ¨èæ’ä»¶**ï¼š

- GitLens
- Error Lens
- Path Intellisense
- Auto Rename Tag

**å·¥ä½œåŒºé…ç½®**ï¼šé¡¹ç›®å·²åŒ…å«æœ€ä½³å®è·µçš„ `.vscode/settings.json`ï¼ŒåŒ…æ‹¬è‡ªåŠ¨æ ¼å¼åŒ–ã€ESLint ä¿®å¤ç­‰

**Git æäº¤**: å·²é…ç½® Husky + lint-stagedï¼Œæäº¤æ—¶è‡ªåŠ¨æ ¼å¼åŒ–ä»£ç 

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [Nuxt 4 æ–‡æ¡£](https://nuxt.com/)
- [nuxt-auth-utils æ–‡æ¡£](https://github.com/Atinux/nuxt-auth-utils)
- [nuxt-security æ–‡æ¡£](https://nuxt-security.vercel.app/)
- [shadcn-vue æ–‡æ¡£](https://www.shadcn-vue.com/)
- [Tailwind CSS v4 æ–‡æ¡£](https://tailwindcss.com/)

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®åŸºäº [MIT License](LICENSE)ï¼Œå¯è‡ªç”±ç”¨äºå•†ä¸šé¡¹ç›®ã€‚
